document.addEventListener('DOMContentLoaded',function (){initHeroAnimations();const mobileMenuToggle=document.getElementById('mobile-menu-toggle');const mobileMenu=document.getElementById('mobile-menu');if (mobileMenuToggle && mobileMenu){mobileMenuToggle.addEventListener('click',function (){mobileMenu.classList.toggle('hidden');});}const forms=document.querySelectorAll('form[data-validate]');forms.forEach(form=>{form.addEventListener('submit',function (e){if (!validateForm(this)){e.preventDefault();}});});const images=document.querySelectorAll('img[data-src]');if ('IntersectionObserver' in window){const imageObserver=new IntersectionObserver((entries,observer)=>{entries.forEach(entry=>{if (entry.isIntersecting){const img=entry.target;img.src=img.dataset.src;img.classList.remove('lazy');imageObserver.unobserve(img);}});});images.forEach(img=> imageObserver.observe(img));}const anchorLinks=document.querySelectorAll('a[href^="#"]');anchorLinks.forEach(link=>{link.addEventListener('click',function (e){e.preventDefault();const target=document.querySelector(this.getAttribute('href'));if (target){target.scrollIntoView({behavior: 'smooth',block: 'start'});}});});const contactForm=document.getElementById('contact-form');if (contactForm){contactForm.addEventListener('submit',function (e){e.preventDefault();handleContactForm(this);});}});function validateForm(form){let isValid=true;const requiredFields=form.querySelectorAll('[required]');requiredFields.forEach(field=>{if (!field.value.trim()){showFieldError(field,'Это поле обязательно для заполнения');isValid=false;}else if (field.type==='email' && !isValidEmail(field.value)){showFieldError(field,'Введите корректный email адрес');isValid=false;}else{clearFieldError(field);}});return isValid;}function isValidEmail(email){const emailRegex=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return emailRegex.test(email);}function showFieldError(field,message){clearFieldError(field);const errorDiv=document.createElement('div');errorDiv.className='field-error text-error text-sm mt-1';errorDiv.textContent=message;field.classList.add('border-error');field.parentNode.appendChild(errorDiv);}function clearFieldError(field){field.classList.remove('border-error');const existingError=field.parentNode.querySelector('.field-error');if (existingError){existingError.remove();}}function handleContactForm(form){const formData=new FormData(form);const submitButton=form.querySelector('button[type="submit"]');const originalText=submitButton.textContent;submitButton.textContent='Отправка...';submitButton.disabled=true;fetch('/contact_form.php',{method: 'POST',body: formData}) .then(response=> response.json()) .then(data=>{if (data.success){showNotification('Сообщение успешно отправлено!','success');form.reset();}else{showNotification('Ошибка при отправке сообщения: '+data.message,'error');}}) .catch(error=>{showNotification('Произошла ошибка при отправке сообщения','error');console.error('Error:',error);}) .finally(()=>{submitButton.textContent=originalText;submitButton.disabled=false;});}function showNotification(message,type='info'){const notification=document.createElement('div');notification.className=`notification notification-${type}fixed top-4 right-4 p-4 rounded-lg shadow-lg z-50`;notification.textContent=message;switch (type){case 'success': notification.classList.add('bg-success','text-white');break;case 'error': notification.classList.add('bg-error','text-white');break;case 'warning': notification.classList.add('bg-warning','text-white');break;default: notification.classList.add('bg-gray-800','text-white');}document.body.appendChild(notification);setTimeout(()=>{notification.remove();},5000);}function debounce(func,wait){let timeout;return function executedFunction(...args){const later=()=>{clearTimeout(timeout);func(...args);};clearTimeout(timeout);timeout=setTimeout(later,wait);};}function throttle(func,limit){let inThrottle;return function (){const args=arguments;const context=this;if (!inThrottle){func.apply(context,args);inThrottle=true;setTimeout(()=> inThrottle=false,limit);}};}function initHeroAnimations(){if (!document.getElementById('hero-title')){return;}setTimeout(()=>{startHeroAnimations();},200);}function startHeroAnimations(){const title=document.getElementById('hero-title');const subtitle=document.getElementById('hero-subtitle');const button1=document.getElementById('hero-button-1');const button2=document.getElementById('hero-button-2');if (!title || !subtitle || !button1 || !button2){return;}animateTitleWords(title);setTimeout(()=>{animateSubtitleWords(subtitle);},1200);setTimeout(()=>{button1.classList.add('animate-button-slide-up','hero-button-1');},2200);setTimeout(()=>{button2.classList.add('animate-button-slide-up','hero-button-2');},2600);}function animateTitleWords(element){const text=element.textContent;const words=text.split(' ');element.innerHTML='';words.forEach((word,index)=>{const span=document.createElement('span');span.textContent=word+' ';span.classList.add('hero-title-words','animate-word-slide-up');span.style.animationDelay=`${0.4+(index*0.1)}s`;element.appendChild(span);});}function animateSubtitleWords(element){const text=element.textContent;const words=text.split(' ');element.innerHTML='';words.forEach((word,index)=>{const span=document.createElement('span');span.textContent=word+' ';span.classList.add('hero-subtitle-words','animate-fade-in-up');span.style.animationDelay=`${1.3+(index*0.1)}s`;element.appendChild(span);});}function addTypingEffect(element,text,speed=100){element.textContent='';let i=0;function typeWriter(){if (i < text.length){element.textContent+=text.charAt(i);i++;setTimeout(typeWriter,speed);}}typeWriter();}function animateWords(element){const text=element.textContent;const words=text.split(' ');element.innerHTML='';words.forEach((word,index)=>{const span=document.createElement('span');span.textContent=word+' ';span.classList.add('animate-words');span.style.animationDelay=`${index*0.1}s`;element.appendChild(span);});}function addRippleEffect(button){button.addEventListener('click',function (e){const ripple=document.createElement('span');const rect=this.getBoundingClientRect();const size=Math.max(rect.width,rect.height);const x=e.clientX-rect.left-size/2;const y=e.clientY-rect.top-size/2;ripple.style.width=ripple.style.height=size+'px';ripple.style.left=x+'px';ripple.style.top=y+'px';ripple.classList.add('ripple');this.appendChild(ripple);setTimeout(()=>{ripple.remove();},600);});}function initRippleEffects(){const buttons=document.querySelectorAll('.btn-ripple');buttons.forEach(button=>{addRippleEffect(button);});}document.addEventListener('DOMContentLoaded',function (){initRippleEffects();});;