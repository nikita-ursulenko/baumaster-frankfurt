# Настройки Baumaster Frankfurt
RewriteEngine On
RewriteBase /

# 1. Скрытие расширения .php в адресной строке
# Если пользователь запрашивает файл .php напрямую, перенаправляем его на URL без расширения
RewriteCond %{THE_REQUEST} ^[A-Z]{3,}\s([^.]+)\.php [NC]
RewriteRule ^ %1 [R=301,L]

# 2. Обработка админки (редирект /admin на /admin/ для корректной работы)
RewriteRule ^admin$ admin/ [R=301,L]

# 3. Внутренний маппинг: если файл без .php существует как .php, отдаем его
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME}\.php -f
RewriteRule ^(.*?)/?$ $1.php [L]

# 4. Если папка не существует и файл не найден, пробуем index.php (для SPA-подобных роутов, если нужно)
# RewriteCond %{REQUEST_FILENAME} !-f
# RewriteCond %{REQUEST_FILENAME} !-d
# RewriteRule ^(.*)$ index.php [QSA,L]
